{"ast":null,"code":"var _jsxFileName = \"D:\\\\Frontend\\\\Projects\\\\tesk-case-vk\\\\src\\\\components\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport '../index.css';\nimport React from 'react';\nimport EmojiPopup from './EmojiPopup/EmojiPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [emojiPopupState, setEmojiPopupState] = React.useState(false);\n  const [currentEmoji, setCurrentEmoji] = React.useState('');\n  const [currentText, setCurrentText] = React.useState('');\n  const [recentEmojis, setRecentEmojis] = React.useState([]);\n  const [textAreaEl, setTextAreaEl] = React.useState();\n  const [selectionPosition, setSelectionPosition] = React.useState(null);\n\n  const showEmojiPopup = e => {\n    e.preventDefault();\n    setEmojiPopupState(!emojiPopupState);\n  };\n\n  const setTextareaContent = e => {\n    setCurrentText(e.target.value);\n  };\n\n  const deafultTextareaHeight = '18px';\n\n  const setTextAreaHeight = e => {\n    e.target.style.height = deafultTextareaHeight;\n    const scrollHeight = e.target.scrollHeight;\n    e.target.style.height = scrollHeight + 'px';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-field__wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"input-field\",\n      children: [emojiPopupState && /*#__PURE__*/_jsxDEV(EmojiPopup, {\n        recentEmojis: recentEmojis,\n        popupState: emojiPopupState,\n        onClose: () => {\n          setEmojiPopupState(false);\n        },\n        setRecentEmojis: emojis => {\n          setRecentEmojis(emojis);\n        },\n        onEmoji: emoji => {\n          setCurrentEmoji(emoji);\n          React.setState();\n          setCurrentText(currentText.slice(0, selectionPosition) + currentEmoji + currentText.slice(selectionPosition)); // всталявляет эмодзи в текущее место каретки\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"1\",\n        className: \"input-field__text-area\",\n        value: currentText,\n        placeholder: \"\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",\n        onClick: e => {\n          setSelectionPosition(e.target.selectionStart);\n        },\n        onKeyUp: e => {\n          setTextAreaHeight(e);\n        },\n        onChange: e => {\n          setTextareaContent(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: showEmojiPopup,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"input-field__emoji-image\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"20\",\n          height: \"20\",\n          fill: \"none\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M6.438 12.297a.9.9 0 011.273.15 2.772 2.772 0 00.516.415c.383.24.97.488 1.773.488.803 0 1.39-.249 1.773-.488a2.773 2.773 0 00.516-.416l.012-.013.002-.003a.9.9 0 011.4 1.132L13 13l.703.562-.001.002-.002.001-.002.004-.007.008-.018.021a3.516 3.516 0 01-.245.254c-.16.15-.394.345-.701.536A5.094 5.094 0 0110 15.15a5.094 5.094 0 01-2.727-.762 4.567 4.567 0 01-.701-.536 3.498 3.498 0 01-.245-.254l-.018-.021-.007-.008-.002-.004-.002-.001s0-.002.702-.564l-.703.562a.9.9 0 01.14-1.265zM8.25 8.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM13 9.5A1.25 1.25 0 1013 7a1.25 1.25 0 000 2.5z\",\n            fill: \"#99A2AD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10 .1C4.532.1.1 4.532.1 10s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9S15.468.1 10 .1zM1.9 10a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z\",\n            fill: \"#99A2AD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"+iXxxWBwupTmJkvV1QGavGKUgas=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Frontend/Projects/tesk-case-vk/src/components/App.js"],"names":["React","EmojiPopup","App","emojiPopupState","setEmojiPopupState","useState","currentEmoji","setCurrentEmoji","currentText","setCurrentText","recentEmojis","setRecentEmojis","textAreaEl","setTextAreaEl","selectionPosition","setSelectionPosition","showEmojiPopup","e","preventDefault","setTextareaContent","target","value","deafultTextareaHeight","setTextAreaHeight","style","height","scrollHeight","emojis","emoji","setState","slice","selectionStart"],"mappings":"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","sourcesContent":["import '../index.css'\r\nimport React from 'react'\r\nimport EmojiPopup from './EmojiPopup/EmojiPopup'\r\n\r\nfunction App() {\r\n  const [emojiPopupState, setEmojiPopupState] = React.useState(false)\r\n  const [currentEmoji, setCurrentEmoji] = React.useState('')\r\n  const [currentText, setCurrentText] = React.useState('')\r\n  const [recentEmojis, setRecentEmojis] = React.useState([])\r\n  const [textAreaEl, setTextAreaEl] = React.useState()\r\n  const [selectionPosition, setSelectionPosition] = React.useState(null)\r\n\r\n  const showEmojiPopup = e => {\r\n    e.preventDefault()\r\n    setEmojiPopupState(!emojiPopupState)\r\n  }\r\n  const setTextareaContent = e => {\r\n    setCurrentText(e.target.value)\r\n  }\r\n  const deafultTextareaHeight = '18px'\r\n  const setTextAreaHeight = e => {\r\n    e.target.style.height = deafultTextareaHeight\r\n    const scrollHeight = e.target.scrollHeight\r\n    e.target.style.height = scrollHeight + 'px'\r\n  }\r\n  return (\r\n    <div className='input-field__wrapper'>\r\n      <section className='input-field'>\r\n        {emojiPopupState && (\r\n          <EmojiPopup\r\n            recentEmojis={recentEmojis}\r\n            popupState={emojiPopupState}\r\n            onClose={() => {\r\n              setEmojiPopupState(false)\r\n            }}\r\n            setRecentEmojis={emojis => {\r\n              setRecentEmojis(emojis)\r\n            }}\r\n            onEmoji={emoji => {\r\n              setCurrentEmoji(emoji)\r\n              React.setState()\r\n              setCurrentText(currentText.slice(0, selectionPosition) + currentEmoji + currentText.slice(selectionPosition)) // всталявляет эмодзи в текущее место каретки\r\n            }}\r\n          />\r\n        )}\r\n        <textarea\r\n          rows='1'\r\n          className='input-field__text-area'\r\n          value={currentText}\r\n          placeholder='Ваше сообщение'\r\n          onClick={e => {\r\n            setSelectionPosition(e.target.selectionStart)\r\n          }}\r\n          onKeyUp={e => {\r\n            setTextAreaHeight(e)\r\n          }}\r\n          onChange={e => {\r\n            setTextareaContent(e)\r\n          }}\r\n        />\r\n        <button className='btn' onClick={showEmojiPopup}>\r\n          <svg className='input-field__emoji-image' xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none'>\r\n            <path d='M6.438 12.297a.9.9 0 011.273.15 2.772 2.772 0 00.516.415c.383.24.97.488 1.773.488.803 0 1.39-.249 1.773-.488a2.773 2.773 0 00.516-.416l.012-.013.002-.003a.9.9 0 011.4 1.132L13 13l.703.562-.001.002-.002.001-.002.004-.007.008-.018.021a3.516 3.516 0 01-.245.254c-.16.15-.394.345-.701.536A5.094 5.094 0 0110 15.15a5.094 5.094 0 01-2.727-.762 4.567 4.567 0 01-.701-.536 3.498 3.498 0 01-.245-.254l-.018-.021-.007-.008-.002-.004-.002-.001s0-.002.702-.564l-.703.562a.9.9 0 01.14-1.265zM8.25 8.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM13 9.5A1.25 1.25 0 1013 7a1.25 1.25 0 000 2.5z' fill='#99A2AD' />\r\n            <path d='M10 .1C4.532.1.1 4.532.1 10s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9S15.468.1 10 .1zM1.9 10a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z' fill='#99A2AD' />\r\n          </svg>\r\n        </button>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}