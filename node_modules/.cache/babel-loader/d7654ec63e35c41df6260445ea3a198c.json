{"ast":null,"code":"import _toConsumableArray from\"D:/Frontend/Projects/tesk-case-vk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Frontend/Projects/tesk-case-vk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{emojiData}from'./emojiData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EmojiPopup(props){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),totalEmojisPopupVisibility=_React$useState2[0],setTotalEmojisPopupVisibility=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),recentEmojiPopupVisibility=_React$useState4[0],setRecentEmojiPopupVisibility=_React$useState4[1];var showTotalEmojisPopup=function showTotalEmojisPopup(){setTotalEmojisPopupVisibility(true);setRecentEmojiPopupVisibility(false);};var showRecentEmojisPoup=function showRecentEmojisPoup(){setTotalEmojisPopupVisibility(false);setRecentEmojiPopupVisibility(true);};var maxRecentEmojiCounter=25;var handleEmojiClick=function handleEmojiClick(emoji){var emojiDuplicateIdx;// Check is some of recent emojis already has last clicked emoji\nif(props.recentEmojis.some(function(i,idx){if(i===emoji){emojiDuplicateIdx=idx;}return i===emoji;})){props.setRecentEmojis(props.recentEmojis.splice(emojiDuplicateIdx,1));}props.setRecentEmojis([emoji].concat(_toConsumableArray(props.recentEmojis)));// Check for max count, if so delete the oldest emoji\nif(props.recentEmojis.length>maxRecentEmojiCounter){props.recentEmojis.splice(maxRecentEmojiCounter-1,0);props.setRecentEmojis(props.recentEmojis);}props.onEmoji(emoji);};return/*#__PURE__*/_jsxs(\"article\",{className:'popup'+(props.popupState&&' popup_opened'),children:[totalEmojisPopupVisibility&&/*#__PURE__*/_jsx(\"div\",{className:\"popup__emojis-container\",children:emojiData.map(function(emojiType,idx){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"popup__emojis-heading\",children:emojiType.title}),/*#__PURE__*/_jsx(\"ul\",{className:\"popup__emojis\",children:emojiType.items.map(function(emoji,idx){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){handleEmojiClick(emoji);},className:\"popup__emoji\",children:emoji},idx);})})]},idx);})}),recentEmojiPopupVisibility&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup__emojis-container\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"popup__emojis-heading\",children:\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"popup__emojis\",children:[' ',!props.recentEmojis.length?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0445 \\u044D\\u043C\\u043E\\u0434\\u0437\\u0438\"}):props.recentEmojis.map(function(emoji,idx){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){handleEmojiClick(emoji);},className:\"popup__emoji\",children:emoji},idx);})]})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"popup__navbar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:showTotalEmojisPopup,className:'btn popup__navbar-btn'+(totalEmojisPopupVisibility?' popup__navbar-btn_active':''),children:/*#__PURE__*/_jsxs(\"svg\",{className:\"input-field__emoji-image\",xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6.438 12.297a.9.9 0 011.273.15 2.772 2.772 0 00.516.415c.383.24.97.488 1.773.488.803 0 1.39-.249 1.773-.488a2.773 2.773 0 00.516-.416l.012-.013.002-.003a.9.9 0 011.4 1.132L13 13l.703.562-.001.002-.002.001-.002.004-.007.008-.018.021a3.516 3.516 0 01-.245.254c-.16.15-.394.345-.701.536A5.094 5.094 0 0110 15.15a5.094 5.094 0 01-2.727-.762 4.567 4.567 0 01-.701-.536 3.498 3.498 0 01-.245-.254l-.018-.021-.007-.008-.002-.004-.002-.001s0-.002.702-.564l-.703.562a.9.9 0 01.14-1.265zM8.25 8.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM13 9.5A1.25 1.25 0 1013 7a1.25 1.25 0 000 2.5z\",fill:\"#99A2AD\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 .1C4.532.1.1 4.532.1 10s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9S15.468.1 10 .1zM1.9 10a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z\",fill:\"#99A2AD\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:showRecentEmojisPoup,className:'btn popup__navbar-btn'+(recentEmojiPopupVisibility?' popup__navbar-btn_active':''),children:/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M10.4 6.00001C10.4 5.50295 9.99706 5.10001 9.50001 5.10001C9.00295 5.10001 8.60001 5.50295 8.60001 6.00001V10.5C8.60001 10.8752 8.83272 11.211 9.184 11.3427L13.184 12.8427C13.6494 13.0172 14.1682 12.7814 14.3427 12.316C14.5172 11.8506 14.2814 11.3318 13.816 11.1573L10.4 9.87631V6.00001Z\",fill:\"#99A2AD\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M10 0.100006C4.53239 0.100006 0.100006 4.53239 0.100006 10C0.100006 15.4676 4.53239 19.9 10 19.9C15.4676 19.9 19.9 15.4676 19.9 10C19.9 4.53239 15.4676 0.100006 10 0.100006ZM1.90001 10C1.90001 5.5265 5.5265 1.90001 10 1.90001C14.4735 1.90001 18.1 5.5265 18.1 10C18.1 14.4735 14.4735 18.1 10 18.1C5.5265 18.1 1.90001 14.4735 1.90001 10Z\",fill:\"#99A2AD\"})]})})]})]});}export default EmojiPopup;","map":{"version":3,"sources":["D:/Frontend/Projects/tesk-case-vk/src/components/EmojiPopup/EmojiPopup.js"],"names":["React","emojiData","EmojiPopup","props","useState","totalEmojisPopupVisibility","setTotalEmojisPopupVisibility","recentEmojiPopupVisibility","setRecentEmojiPopupVisibility","showTotalEmojisPopup","showRecentEmojisPoup","maxRecentEmojiCounter","handleEmojiClick","emoji","emojiDuplicateIdx","recentEmojis","some","i","idx","setRecentEmojis","splice","length","onEmoji","popupState","map","emojiType","title","items"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { emojiData } from './emojiData'\r\nfunction EmojiPopup(props) {\r\n  const [totalEmojisPopupVisibility, setTotalEmojisPopupVisibility] = React.useState(true)\r\n  const [recentEmojiPopupVisibility, setRecentEmojiPopupVisibility] = React.useState(false)\r\n\r\n  const showTotalEmojisPopup = () => {\r\n    setTotalEmojisPopupVisibility(true)\r\n    setRecentEmojiPopupVisibility(false)\r\n  }\r\n  const showRecentEmojisPoup = () => {\r\n    setTotalEmojisPopupVisibility(false)\r\n    setRecentEmojiPopupVisibility(true)\r\n  }\r\n  const maxRecentEmojiCounter = 25\r\n  const handleEmojiClick = emoji => {\r\n    let emojiDuplicateIdx\r\n    // Check is some of recent emojis already has last clicked emoji\r\n    if (\r\n      props.recentEmojis.some((i, idx) => {\r\n        if (i === emoji) {\r\n          emojiDuplicateIdx = idx\r\n        }\r\n        return i === emoji\r\n      })\r\n    ) {\r\n      props.setRecentEmojis(props.recentEmojis.splice(emojiDuplicateIdx, 1))\r\n    }\r\n    props.setRecentEmojis([emoji, ...props.recentEmojis])\r\n    // Check for max count, if so delete the oldest emoji\r\n    if (props.recentEmojis.length > maxRecentEmojiCounter) {\r\n      props.recentEmojis.splice(maxRecentEmojiCounter - 1, 0)\r\n      props.setRecentEmojis(props.recentEmojis)\r\n    }\r\n    props.onEmoji(emoji)\r\n  }\r\n  return (\r\n    <article className={'popup' + (props.popupState && ' popup_opened')}>\r\n      {totalEmojisPopupVisibility && (\r\n        <div className='popup__emojis-container'>\r\n          {emojiData.map((emojiType, idx) => {\r\n            return (\r\n              <div key={idx}>\r\n                <h4 className='popup__emojis-heading'>{emojiType.title}</h4>\r\n                <ul className='popup__emojis'>\r\n                  {emojiType.items.map((emoji, idx) => {\r\n                    return (\r\n                      <li\r\n                        onClick={() => {\r\n                          handleEmojiClick(emoji)\r\n                        }}\r\n                        key={idx}\r\n                        className='popup__emoji'>\r\n                        {emoji}\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n      {recentEmojiPopupVisibility && (\r\n        <div className='popup__emojis-container'>\r\n          <h4 className='popup__emojis-heading'>Последние</h4>\r\n          <ul className='popup__emojis'>\r\n            {' '}\r\n            {!props.recentEmojis.length ? (\r\n              <p>Нет использованных эмодзи</p>\r\n            ) : (\r\n              props.recentEmojis.map((emoji, idx) => {\r\n                return (\r\n                  <li\r\n                    onClick={() => {\r\n                      handleEmojiClick(emoji)\r\n                    }}\r\n                    key={idx}\r\n                    className='popup__emoji'>\r\n                    {emoji}\r\n                  </li>\r\n                )\r\n              })\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )}\r\n      <nav className='popup__navbar'>\r\n        <button onClick={showTotalEmojisPopup} className={'btn popup__navbar-btn' + (totalEmojisPopupVisibility ? ' popup__navbar-btn_active' : '')}>\r\n          <svg className='input-field__emoji-image' xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none'>\r\n            <path d='M6.438 12.297a.9.9 0 011.273.15 2.772 2.772 0 00.516.415c.383.24.97.488 1.773.488.803 0 1.39-.249 1.773-.488a2.773 2.773 0 00.516-.416l.012-.013.002-.003a.9.9 0 011.4 1.132L13 13l.703.562-.001.002-.002.001-.002.004-.007.008-.018.021a3.516 3.516 0 01-.245.254c-.16.15-.394.345-.701.536A5.094 5.094 0 0110 15.15a5.094 5.094 0 01-2.727-.762 4.567 4.567 0 01-.701-.536 3.498 3.498 0 01-.245-.254l-.018-.021-.007-.008-.002-.004-.002-.001s0-.002.702-.564l-.703.562a.9.9 0 01.14-1.265zM8.25 8.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM13 9.5A1.25 1.25 0 1013 7a1.25 1.25 0 000 2.5z' fill='#99A2AD' />\r\n            <path d='M10 .1C4.532.1.1 4.532.1 10s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9S15.468.1 10 .1zM1.9 10a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z' fill='#99A2AD' />\r\n          </svg>\r\n        </button>\r\n        <button onClick={showRecentEmojisPoup} className={'btn popup__navbar-btn' + (recentEmojiPopupVisibility ? ' popup__navbar-btn_active' : '')}>\r\n          <svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>\r\n            <path d='M10.4 6.00001C10.4 5.50295 9.99706 5.10001 9.50001 5.10001C9.00295 5.10001 8.60001 5.50295 8.60001 6.00001V10.5C8.60001 10.8752 8.83272 11.211 9.184 11.3427L13.184 12.8427C13.6494 13.0172 14.1682 12.7814 14.3427 12.316C14.5172 11.8506 14.2814 11.3318 13.816 11.1573L10.4 9.87631V6.00001Z' fill='#99A2AD' />\r\n            <path fillRule='evenodd' clipRule='evenodd' d='M10 0.100006C4.53239 0.100006 0.100006 4.53239 0.100006 10C0.100006 15.4676 4.53239 19.9 10 19.9C15.4676 19.9 19.9 15.4676 19.9 10C19.9 4.53239 15.4676 0.100006 10 0.100006ZM1.90001 10C1.90001 5.5265 5.5265 1.90001 10 1.90001C14.4735 1.90001 18.1 5.5265 18.1 10C18.1 14.4735 14.4735 18.1 10 18.1C5.5265 18.1 1.90001 14.4735 1.90001 10Z' fill='#99A2AD' />\r\n          </svg>\r\n        </button>\r\n      </nav>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default EmojiPopup\r\n"]},"metadata":{},"sourceType":"module"}